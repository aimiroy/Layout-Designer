@model List<LayoutDesigner.Models.Control>
@{
    ViewBag.Title = "DisplayControl";
}
<h2 style="align-self:center">Custom Layout</h2>
@Html.ActionLink("Create New Layout", "Index", "Home", null, new { @class = "btn btn-primary" })
<br />
@using (Html.BeginForm("DisplayControl", "Home", FormMethod.Post))
{
    
        foreach (var item in Model)
        {
            switch (item.Type)
            {
                case "Textbox":

                    if (@item.IsVisible)
                    {
                        <label class="control-label col-md-2">@item.Label</label>
                        if (@item.IsReadOnly)
                        {
                            <input type="text" name=@item.ControlId style="visibility:visible" readonly id=@item.ControlId class="form-control" value=@item.Value />
                        }
                        else
                        {
                            <input type="text" name=@item.ControlId style="visibility:visible" id=@item.ControlId class="form-control" value=@item.Value required />
                        }
                    }
                    else
                    {
                        <label class="control-label col-md-2" style="visibility:hidden">@item.Label</label>
                        <input type="text" id=@item.ControlId name=@item.ControlId style="visibility:hidden" value=@item.Value />
                    }


                    break;

                case "Number":
                    if (@item.IsVisible)
                    {
                        <label class="control-label col-md-2">@item.Label</label>
                        if (@item.IsReadOnly)
                        {
                            <input type="number" name=@item.ControlId style="visibility:visible" id=@item.ControlId readonly class="form-control" value=@item.Value />
                        }
                        else
                        {
                            <input type="number" name=@item.ControlId style="visibility:visible" id=@item.ControlId class="form-control" value=@item.Value required />
                        }

                    }
                    else
                    {
                        <label class="control-label col-md-2" style="visibility:hidden">@item.Label</label>
                        <input type="number" name=@item.ControlId style="visibility:hidden" id=@item.ControlId value=@item.Value />
                    }
                    break;

                case "Dropdown":
                    if (@item.IsVisible)
                    {
                        <label class="control-label col-md-2">@item.Label</label>
                        if (@item.IsReadOnly)
                        {
                            <select id=@item.ControlId name=@item.ControlId style="visibility:visible" disabled class="form-control">
                                <option value="A">A</option>
                                <option value="B">B</option>
                                <option value="C">C</option>
                                <option value="D">D</option>
                            </select>
                        }
                        else
                        {
                            <select id=@item.ControlId name=@item.ControlId style="visibility:visible" class="form-control">
                                <option value="A">A</option>
                                <option value="B">B</option>
                                <option value="C">C</option>
                                <option value="D">D</option>
                            </select>
                        }


                    }
                    else
                    {
                        <label class="control-label col-md-2" style="visibility:hidden">@item.Label</label>
                        <select id=@item.ControlId name=@item.ControlId style="visibility:hidden">
                            <option value="A">A</option>
                            <option value="B">B</option>
                            <option value="C">C</option>
                            <option value="D">D</option>
                        </select>
                    }
                    break;

                case "Checkbox":
                    if (@item.IsVisible)
                    {
                        <label class="control-label col-md-2">@item.Label</label>
                        if (@item.IsReadOnly)
                        {
                            <input type="checkbox" name=@item.ControlId style="visibility:visible" id=@item.ControlId readonly class="checkbox" value=@item.Value />
                        }
                        else
                        {
                            <input type="checkbox" name=@item.ControlId style="visibility:visible" id=@item.ControlId class="checkbox" value=@item.Value />
                        }

                    }
                    else
                    {
                        <input type="checkbox" name=@item.ControlId style="visibility:hidden" id=@item.ControlId value=@item.Value />
                    }
                    break;

                case "TextArea":
                    if (@item.IsVisible)
                    {
                        <label class="control-label col-md-2">@item.Label</label>
                        if (@item.IsReadOnly)
                        {
                            <textarea style="visibility:visible" name=@item.ControlId id=@item.ControlId readonly class="form-control" value=@item.Value></textarea>
                        }
                        else
                        {
                            <textarea style="visibility:visible" name=@item.ControlId id=@item.ControlId class="form-control" value=@item.Value required></textarea>
                        }

                    }
                    else
                    {
                        <label class="control-label col-md-2" style="visibility:hidden" value=@item.Value>@item.Label</label>
                        <textarea id=@item.ControlId name=@item.ControlId style="visibility:hidden"></textarea>
                    }
                    break;
            }
            <br />
        }
        <input type="submit" value="Submit" class="btn btn-primary"/>
        <input type="button" value="Summary" class="btn btn-primary" id="btnSummary"/>
}
 

@section scripts
{
    <script src="~/Scripts/jquery-1.10.2.min.js"></script>
    <script src="~/Scripts/bootstrap.js"></script>
    <script src="~/Scripts/bootstrap.min.js"></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script type="text/javascript" src="http://ajax.cdnjs.com/ajax/libs/json2/20110223/json2.js"></script>
    <script type="text/javascript">

        var TeamDetailPostBackURL = '/Home/DisplaySummary';
    $(function () {
        $("#btnSummary").click(function () {
            debugger;  
            var $buttonClicked = $(this);
            var options = { "backdrop": "static", keyboard: false };
            $.ajax({
                type: "GET",
                //url: '@*@Url.Action("DisplaySummary", "Home")*@',
                url: TeamDetailPostBackURL,
                contentType: "application/json; charset=utf-8",
                datatype: "json",
                success: function (data) {
                    debugger;
                    $('#myModalContent').html(data);
                    $('#myModal').modal(options);
                    $('#myModal').modal('show');

                },
                error: function () {
                    alert("Dynamic content load failed.");
                }
            });
           // e.preventDefault();
        });
        //$("#closebtn").on('click',function(){
        //    $('#myModal').modal('hide');

        $("#closbtn").click(function () {
            $('#myModal').modal('hide');
        });
    });

    </script>


}

<div id='myModal' class='modal'>
    <div class="modal-dialog">
        <div class="modal-content">
            <div id='myModalContent'>            
            </div>
        </div>
    </div>
</div>

  

